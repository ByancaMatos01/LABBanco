CREATE DATABASE Curso
USE Curso;

CREATE TABLE TB_ESTADO (
    SIGLA_ESTADO CHAR(2),
    NOME_ESTADO VARCHAR(40)
);

CREATE TABLE TB_ALUNO (
    COD_ALUNO SMALLINT, 
    NOME_ALUNO VARCHAR(45),
    END_ALUNO VARCHAR(100),
    SIGLA_ESTADO CHAR(2),
    ID_Classe SMALLINT
);

CREATE TABLE TB_Professor (
    ID_PROFESSOR CHAR(3),
    NOME_PROFESSOR VARCHAR(255)
);

CREATE TABLE TB_DICIPLINA (
    ID_DICIPLINA CHAR(3),
    NOME_DICIPLINA VARCHAR(15),
    ID_PROFESSOR_DICIPLINA CHAR(3),
    NOTA_MINIMA_DICIPLINA SMALLINT
);

CREATE TABLE TB_Aluno_Diciplina (
    COD_ALUNO SMALLINT,
    ID_DICIPLINA CHAR(3),
    NOTA_ALUNO SMALLINT
);

CREATE TABLE TB_CLASSE (
    ID_CLASSE SMALLINT,
    ID_ANDAR SMALLINT
);

ALTER TABLE TB_ALUNO ADD CONSTRAINT PK_ALUNO PRIMARY KEY (COD_ALUNO);
ALTER TABLE TB_Professor ADD CONSTRAINT PK_PROFESSOR PRIMARY KEY (ID_PROFESSOR);
ALTER TABLE TB_CLASSE ADD CONSTRAINT PK_CLASSE PRIMARY KEY (ID_CLASSE);
ALTER TABLE TB_DICIPLINA ADD CONSTRAINT PK_DICIPLINA PRIMARY KEY (ID_DICIPLINA);
ALTER TABLE TB_ESTADO ADD CONSTRAINT PK_ESTADO PRIMARY KEY (SIGLA_ESTADO);

ALTER TABLE TB_ALUNO ADD CONSTRAINT FK_TB_ALUNO_TB_CLASSE FOREIGN KEY (ID_CLASSE) REFERENCES TB_CLASSE (ID_CLASSE);
ALTER TABLE TB_ALUNO ADD CONSTRAINT FK_TB_ALUNO_TB_ESTADO FOREIGN KEY (SIGLA_ESTADO) REFERENCES TB_ESTADO (SIGLA_ESTADO);
ALTER TABLE TB_Aluno_Diciplina ADD CONSTRAINT FK_TB_ALUNO_DICIPLINA_TB_ALUNO FOREIGN KEY (COD_ALUNO) REFERENCES TB_ALUNO (COD_ALUNO);
ALTER TABLE TB_Aluno_Diciplina ADD CONSTRAINT FK_TB_ALUNO_DICIPLINA_TB_DICIPLINA FOREIGN KEY (ID_DICIPLINA) REFERENCES TB_DICIPLINA (ID_DICIPLINA);
ALTER TABLE TB_DICIPLINA ADD CONSTRAINT FK_ID_DICIPLINA_TB_PROFESSOR FOREIGN KEY (ID_PROFESSOR_DICIPLINA) REFERENCES TB_PROFESSOR (ID_PROFESSOR);

INSERT INTO TB_PROFESSOR (ID_PROFESSOR, NOME_PROFESSOR) VALUES ('JOI', 'JOILSON CARDOSO');
INSERT INTO TB_PROFESSOR (ID_PROFESSOR, NOME_PROFESSOR) VALUES ('OSE', 'OSEAS SANTANA');
INSERT INTO TB_PROFESSOR (ID_PROFESSOR, NOME_PROFESSOR) VALUES ('VIT', 'VITOR VASCONCELOS');
INSERT INTO TB_PROFESSOR (ID_PROFESSOR, NOME_PROFESSOR) VALUES ('FER', 'JOSE ROBERTO FERROLI');
INSERT INTO TB_PROFESSOR (ID_PROFESSOR, NOME_PROFESSOR) VALUES ('LIM', 'VALMIR LIMA');
INSERT INTO TB_PROFESSOR (ID_PROFESSOR, NOME_PROFESSOR) VALUES ('EDS', 'EDSON SILVA');
INSERT INTO TB_PROFESSOR (ID_PROFESSOR, NOME_PROFESSOR) VALUES ('WAG', 'WAGNER OKIDA');

INSERT INTO TB_ALUNO(COD_ALUNO, NOME_ALUNO, END_ALUNO,SIGLA_ESTADO,ID_CLASSE) VALUES (1, 'ANTONIO CARLOS PENTEADO', 'RUA X', 'SP', 1);
INSERT INTO TB_ALUNO(COD_ALUNO, NOME_ALUNO, END_ALUNO,SIGLA_ESTADO,ID_CLASSE) VALUES (2, 'AUROMIR DA SILVA VALDEVINO', 'RUA W', 'SP', 1);
INSERT INTO TB_ALUNO(COD_ALUNO, NOME_ALUNO, END_ALUNO,SIGLA_ESTADO,ID_CLASSE) VALUES (3, 'ANDRE COSTA', 'RUA T', 'SP', 1);
INSERT INTO TB_ALUNO(COD_ALUNO, NOME_ALUNO, END_ALUNO,SIGLA_ESTADO,ID_CLASSE) VALUES (4, 'ROBERTO SOARES DE MENEZES', 'RUA BW', 'SP', 2);
INSERT INTO TB_ALUNO(COD_ALUNO, NOME_ALUNO, END_ALUNO,SIGLA_ESTADO,ID_CLASSE) VALUES (5, 'DANIA', 'RUA CCC', 'SP', 2);
INSERT INTO TB_ALUNO(COD_ALUNO, NOME_ALUNO, END_ALUNO,SIGLA_ESTADO,ID_CLASSE) VALUES (6, 'CARLOS MAGALHAES', 'AV SP', 'SP', 2);
INSERT INTO TB_ALUNO(COD_ALUNO, NOME_ALUNO, END_ALUNO,SIGLA_ESTADO,ID_CLASSE) VALUES (7, 'MARCELO RAUBA', 'AV SAO LUIS', 'SP', 3);
INSERT INTO TB_ALUNO(COD_ALUNO, NOME_ALUNO, END_ALUNO,SIGLA_ESTADO,ID_CLASSE) VALUES (8, 'FERNANDO', 'AV COUNTYR', 'SP', 3);
INSERT INTO TB_ALUNO(COD_ALUNO, NOME_ALUNO, END_ALUNO,SIGLA_ESTADO,ID_CLASSE) VALUES (9, 'WALMIR BURIN', 'RUA SSISIS', 'SP', 3);

INSERT INTO TB_DICIPLINA(ID_DICIPLINA,NOME_DICIPLINA,ID_PROFESSOR_DICIPLINA, NOTA_MINIMA_DICIPLINA) VALUES ('MAT', 'MATEMATICA', 'JOI', 7);
INSERT INTO TB_DICIPLINA(ID_DICIPLINA,NOME_DICIPLINA,ID_PROFESSOR_DICIPLINA, NOTA_MINIMA_DICIPLINA) VALUES ('POR','PORTUGUES' ,'VIT', 5);
INSERT INTO TB_DICIPLINA(ID_DICIPLINA,NOME_DICIPLINA,ID_PROFESSOR_DICIPLINA, NOTA_MINIMA_DICIPLINA) VALUES ('FIS', 'FISICA', 'OSE', 3);
INSERT INTO TB_DICIPLINA(ID_DICIPLINA,NOME_DICIPLINA,ID_PROFESSOR_DICIPLINA, NOTA_MINIMA_DICIPLINA) VALUES ('HIS', 'HISTORIA', 'EDS', 2);
INSERT INTO TB_DICIPLINA(ID_DICIPLINA,NOME_DICIPLINA,ID_PROFESSOR_DICIPLINA, NOTA_MINIMA_DICIPLINA) VALUES ('GEO', 'GEOGRAFIA', 'WAG', 4);
INSERT INTO TB_DICIPLINA(ID_DICIPLINA,NOME_DICIPLINA,ID_PROFESSOR_DICIPLINA, NOTA_MINIMA_DICIPLINA) VALUES ('ING', 'INGLES', 'LIM', 2);

INSERT INTO TB_Aluno_Diciplina (COD_ALUNO,ID_DICIPLINA,NOTA_ALUNO) VALUES(1,'MAT', 0);
INSERT INTO TB_Aluno_Diciplina (COD_ALUNO,ID_DICIPLINA,NOTA_ALUNO) VALUES(2, 'MAT',0);
INSERT INTO TB_Aluno_Diciplina (COD_ALUNO,ID_DICIPLINA,NOTA_ALUNO) VALUES(3, 'MAT', 1);
INSERT INTO TB_Aluno_Diciplina (COD_ALUNO,ID_DICIPLINA,NOTA_ALUNO) VALUES(4,'POR', 2);
INSERT INTO TB_Aluno_Diciplina (COD_ALUNO,ID_DICIPLINA,NOTA_ALUNO) VALUES(5, 'POR', 2);
INSERT INTO TB_Aluno_Diciplina (COD_ALUNO,ID_DICIPLINA,NOTA_ALUNO) VALUES(6, 'POR', 2);
INSERT INTO TB_Aluno_Diciplina (COD_ALUNO,ID_DICIPLINA,NOTA_ALUNO) VALUES(7, 'FIS', 3);
INSERT INTO TB_Aluno_Diciplina (COD_ALUNO,ID_DICIPLINA,NOTA_ALUNO) VALUES(8, 'FIS', 3);
INSERT INTO TB_Aluno_Diciplina (COD_ALUNO,ID_DICIPLINA,NOTA_ALUNO) VALUES(9, 'FIS', 3);
INSERT INTO TB_Aluno_Diciplina (COD_ALUNO,ID_DICIPLINA,NOTA_ALUNO) VALUES(1, 'POR', 2);
INSERT INTO TB_Aluno_Diciplina (COD_ALUNO,ID_DICIPLINA,NOTA_ALUNO) VALUES(2, 'POR', 2);
INSERT INTO TB_Aluno_Diciplina (COD_ALUNO,ID_DICIPLINA,NOTA_ALUNO) VALUES(7, 'POR', 2);
INSERT INTO TB_Aluno_Diciplina (COD_ALUNO,ID_DICIPLINA,NOTA_ALUNO) VALUES(1, 'FIS', 3);
